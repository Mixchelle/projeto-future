(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[407],{15951:(e,a,t)=>{"use strict";t.d(a,{y:()=>n});var o=t(12115),i=t(23464),r=t(90240);let s="".concat((0,r.$)(),"/form"),n=()=>{let[e,a]=(0,o.useState)([]),[t,r]=(0,o.useState)([]),[n,l]=(0,o.useState)([]),[c,d]=(0,o.useState)(null),[u,m]=(0,o.useState)([]),[p,f]=(0,o.useState)(!1),[x,h]=(0,o.useState)(null),[g,v]=(0,o.useState)([]),[j,b]=(0,o.useState)(!1),[A,N]=(0,o.useState)(null),y=()=>{let e=localStorage.getItem("token");return{headers:{Authorization:"Bearer ".concat(e)}}};async function S(){try{let e=await i.A.get("".concat(s,"/formularios/"),y());a(e.data),e.data.forEach(e=>{localStorage.setItem("formulario_".concat(e.id,"_total"),e.total.toString())})}catch(e){console.error("Erro ao buscar formul\xe1rios:",e)}}let E=async e=>{try{let a=await i.A.get("".concat(s,"/formularios/").concat(e,"/categorias/"),y());r(a.data)}catch(e){console.error("Erro ao buscar categorias:",e)}},w=async e=>{try{let a=await i.A.get("".concat(s,"/categorias/").concat(e,"/perguntas/"),y());l(a.data)}catch(e){console.error("Erro ao buscar quest\xf5es:",e)}},I=async(e,a)=>{try{var t;let e=localStorage.getItem("selectedFormularioId"),a=JSON.parse(localStorage.getItem("user")||"{}").id,o=await i.A.get("".concat(s,"/formularios/").concat(e,"/clientes/").concat(a,"/"),y()),r=JSON.parse(localStorage.getItem("formulariosRespondidos")||"{}");return r[e]={nome:null===(t=o.data.formulario)||void 0===t?void 0:t.nome,status:o.data.status,data:new Date().toISOString()},localStorage.setItem("formulariosRespondidos",JSON.stringify(r)),d(o.data),o.data}catch(e){return console.error("Erro ao buscar formul\xe1rio respondido:",e),null}},k=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rascunho";try{let t=localStorage.getItem("selectedFormularioId"),o=JSON.parse(localStorage.getItem("user")||"{}"),r=o.id,n={formulario:t,cliente:r,responsavel:o.id,status:a,respostas:e.map(e=>({pergunta:e.pergunta,politica:e.politica,pratica:e.pratica,info_complementar:e.info_complementar||"",anexos:e.anexos||null}))},l=await i.A.post("".concat(s,"/formularios/").concat(t,"/clientes/").concat(r,"/"),n,y());return await I(Number(t),r),l.data}catch(e){throw console.error("Erro ao salvar respostas:",e),e}},R=async(e,t)=>{try{let o=await i.A.patch("".concat(s,"/formularios/").concat(e,"/"),t,y());a(a=>a.map(a=>a.id===e?{...a,...o.data}:a))}catch(e){console.error("Erro ao atualizar formul\xe1rio:",e)}};(0,o.useEffect)(()=>{S()},[]);let _=async e=>{try{f(!0),h(null);let a=await i.A.get("".concat(s,"/clientes/").concat(e,"/formularios-em-andamento/"),y());m(a.data);let t=a.data.map(e=>({id:e.id,nome:e.formulario_nome,status:e.status,data:e.atualizado_em,progresso:e.progresso}));return localStorage.setItem("formulariosEmAndamento",JSON.stringify(t)),a.data}catch(e){throw console.error("Erro ao buscar formul\xe1rios em andamento:",e),h("Erro ao carregar formul\xe1rios em andamento"),e}finally{f(!1)}},C=async()=>{b(!0),N(null);try{let e=(await i.A.get("".concat(s,"/formularios-em-analise/"),y())).data,a=Object.entries(e).map(e=>{let[a,t]=e;return{id_formulario_respondido:parseInt(a),id_cliente:t.id_cliente,nome_cliente:t.nome_cliente,id_formulario:t.id_formulario,nome_formulario:t.nome_formulario}});return v(a),a}catch(e){return console.error("Erro ao buscar formul\xe1rios em an\xe1lise:",e),N("Erro ao carregar formul\xe1rios em an\xe1lise."),null}finally{b(!1)}};return(0,o.useEffect)(()=>{C()},[]),{formularios:e,categorias:t,perguntas:n,formularioRespondido:c,formulariosEmAnalise:g,loadingFormulariosEmAnalise:j,errorFormulariosEmAnalise:A,getFormularios:S,getCategoriasByFormulario:E,getQuestoesByCategoria:w,getFormularioRespondido:I,saveFormularioRespondido:k,updateFormularioById:R,getFormulariosEmAndamento:_,buscarFormulariosEmAnalise:C}}},17257:()=>{},32384:(e,a,t)=>{"use strict";t.d(a,{A:()=>p});var o=t(95155),i=t(66766);let r={src:"/projeto-future//_next/static/media/logo3.bd6a4934.png",height:406,width:422,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAOVBMVEXf39/Ewr/27uT29vbt4ND559H469vHx8b6+/vS09TNzs/24MbVzcPfzrjt2sH+8+Xn5+f28uzm3dHIQYkHAAAACXBIWXMAAA7zAAAO8wEcU5k6AAAAJHRFWHREZXNjcmlwdGlvbgBodHRwOi8vd3d3LnBkZi10b29scy5jb21fEmayAAAAE3RFWHRBdXRob3IAUERGIFRvb2xzIEFHG893MAAAABF0RVh0VGl0bGUAUERGIENyZWF0b3JBXrwoAAAAPklEQVR4nBXLRxLAIAwAsQWMC6Yk/P+xmegu2jOsGE4bq6cYsHp1FSOuZ1UdhGR9Wxoxj3fdBjG33AJOlL9/QIsBxf42TxwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};var s=t(12115),n=t(35695),l=t(10351),c=t(6874),d=t.n(c);t(90226),t(17257);var u=t(41478);let m=e=>{let{className:a}=e,[t,r]=(0,s.useState)("Home"),[l,c]=(0,s.useState)(2700),d=(0,n.useRouter)(),m=(0,n.usePathname)();(0,s.useEffect)(()=>{let e=m.split("/").filter(Boolean),a=e.length?e[e.length-1]:"Home";r(a.charAt(0).toUpperCase()+a.slice(1))},[m]);let p=()=>{c(900)};return(0,s.useEffect)(()=>{let e=()=>{p()};return window.addEventListener("mousemove",e),window.addEventListener("keydown",e),window.addEventListener("click",e),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("keydown",e),window.removeEventListener("click",e)}},[]),(0,s.useEffect)(()=>{l<=0&&(localStorage.clear(),d.push("/login"));let e=setInterval(()=>{c(e=>e-1)},1e3);return()=>clearInterval(e)},[l,d]),(0,o.jsx)("header",{className:"header ".concat(a||""),role:"banner",children:(0,o.jsxs)("div",{className:"header-content",children:[(0,o.jsxs)("div",{className:"logo-container",children:[(0,o.jsx)(i.default,{src:u.A,alt:"Logo",width:50,height:50}),(0,o.jsxs)("div",{className:"titulo",children:[(0,o.jsx)("div",{className:"titulo-1",children:(0,o.jsxs)("span",{className:"system-name",children:["FS",(0,o.jsx)("span",{className:"orange",children:"3"}),"M"]})}),(0,o.jsx)("span",{className:"system-subname",children:"Future Security Maturity Monitoring & Management"})]})]}),(0,o.jsx)("div",{className:"header-spacer"})]})})},p=e=>{let{menuItems:a}=e,[t,c]=(0,s.useState)(!1),[u,p]=(0,s.useState)({name:"",type:""}),f=(0,n.useRouter)(),x=(0,n.usePathname)();return(0,s.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{let a=JSON.parse(e);p({name:a.nome||"Usu\xe1rio",type:a.role||"Tipo n\xe3o definido"})}catch(e){console.error("Erro ao fazer parse do user no localStorage:",e)}},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(m,{className:t?"collapsed-header":""}),(0,o.jsxs)("div",{className:"sidebar ".concat(t?"collapsed":""),role:"navigation","aria-label":"Menu lateral",children:[(0,o.jsx)("div",{className:"sidebar-header",children:(0,o.jsx)("button",{className:"menu-button",onClick:()=>c(!t),"aria-label":t?"Expandir menu":"Recolher menu","aria-expanded":!t,children:(0,o.jsx)(l.ND1,{size:24,"aria-hidden":"true"})})}),!t&&(0,o.jsxs)("div",{className:"user-section",children:[(0,o.jsx)(i.default,{src:r,alt:"Logo da Empresa",className:"user-avatar",width:60,height:60}),(0,o.jsx)("p",{className:"user-name",children:u.name}),(0,o.jsx)("p",{className:"user-type",children:u.type})]}),(0,o.jsx)("nav",{className:"menu-items",children:a.map((e,a)=>(0,o.jsxs)(d(),{href:e.path,className:"menu-link ".concat(x===e.path?"active":""),"aria-current":x===e.path?"page":void 0,children:[e.icon,!t&&(0,o.jsx)("span",{children:e.name})]},a))}),(0,o.jsx)("div",{className:"logout-section",children:(0,o.jsxs)("button",{className:"logout-button",onClick:()=>{localStorage.clear(),f.push("/login")},"aria-label":"Sair da conta",children:[(0,o.jsx)(l.QeK,{size:20,"aria-hidden":"true"}),!t&&(0,o.jsx)("span",{children:"Sair"})]})})]})]})}},41478:(e,a,t)=>{"use strict";t.d(a,{A:()=>o});let o={src:"/projeto-future//_next/static/media/f3smlogo.15dc6b4d.png",height:1e3,width:1e3,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAQlBMVEVMaXH0iR72kyv7lCX7mjP4kCT5lij5kiT3jyX7lSf2iSf3jyL5lCf3jB75qFH3n0P3jiL2jSH2kyv4nkD4sWT9lSbkcvktAAAAFXRSTlMAJR1q/eAs+FfMDWDwLdzKqK+wvvt+FaB6AAAACXBIWXMAAB2HAAAdhwGP5fFlAAAAPklEQVR4nC3LWQ6AMAhAwVcLpWg3F+5/VRPj/wyw12MD6GpiFXC/5miJLsPijkyxR2JFBpd5uiUo2vTDf38BRd8B6retxQUAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},66407:(e,a,t)=>{Promise.resolve().then(t.bind(t,85675))},85675:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var o=t(95155),i=t(12115),r=t(32384),s=t(10351),n=t(15951),l=t(35695);let c=e=>{let{perguntas:a,respostas:t,currentQuestionIndex:i,setCurrentQuestionIndex:r}=e;return(0,o.jsx)("div",{className:"question-map-container",children:a.map((e,a)=>{var n,l;let c=(null===(n=t[e.id])||void 0===n?void 0:n.politica)&&(null===(l=t[e.id])||void 0===l?void 0:l.pratica),d=i===a;return(0,o.jsx)("button",{onClick:()=>r(a),className:"question-dot ".concat(d?"current":c?"answered":"unanswered"),title:"".concat(e.codigo,": ").concat(e.questao.substring(0,30)).concat(e.questao.length>30?"...":""),"aria-label":"Quest\xe3o ".concat(a+1,": ").concat(e.codigo),children:c&&!d?(0,o.jsx)(s.YrT,{className:"check-icon","aria-hidden":"true"}):a+1},e.id)})})};function d(){var e,a,t,d,u,m,p,f,x;let[h,g]=(0,i.useState)(!0),[v,j]=(0,i.useState)("GV. Governan\xe7a"),[b,A]=(0,i.useState)(0),[N,y]=(0,i.useState)({}),[S,E]=(0,i.useState)(0),[w,I]=(0,i.useState)(0),[k,R]=(0,i.useState)(0),[_,C]=(0,i.useState)(0),{formularios:O,categorias:F,perguntas:z,formularioRespondido:B,getFormularios:H,getCategoriasByFormulario:L,getQuestoesByCategoria:G,getFormularioRespondido:U,saveFormularioRespondido:M,updateFormularioById:P}=(0,n.y)(),[q,V]=(0,i.useState)(!1),[D,J]=(0,i.useState)(""),[T,X]=(0,i.useState)(!1),[W,Q]=(0,i.useState)(!1),[Y,K]=(0,i.useState)([]),Z=(0,l.useRouter)(),[$,ee]=(0,i.useState)(!0),[ea,et]=(0,i.useState)({});(0,i.useEffect)(()=>{let e={};F.forEach(a=>{e[a.id]=ef(a.id)}),et(e)},[N,B,z,F]);let eo="formulario_".concat(1),ei=e=>{localStorage.setItem(eo,JSON.stringify(e))},er=()=>{let e=localStorage.getItem(eo);return e?JSON.parse(e):{}},es=()=>{let e=localStorage.getItem("selectedFormularioId"),a=localStorage.getItem("formulario_".concat(e,"_total"));return a?JSON.parse(a):1};(0,i.useEffect)(()=>{let e=es();e&&R(e)},[]),(0,i.useEffect)(()=>{let e=er();e&&y(e.respostas||{})},[]),(0,i.useEffect)(()=>{ei({respostas:N})},[N]),(0,i.useEffect)(()=>{L(1)},[]),(0,i.useEffect)(()=>{U(1,2)},[1,2]),(0,i.useEffect)(()=>{B&&B.categorias.forEach(e=>{e.perguntas.forEach(e=>{if(e.resposta){let a={politica:e.resposta.politica,pratica:e.resposta.pratica,informacoesAdicionais:e.resposta.info_complementar||"",anexo:e.resposta.anexos||"",codigo:e.codigo};y(t=>({...t,[e.id]:a}))}})})},[B]),(0,i.useEffect)(()=>{if(F.length>0){let e=F[0];j(e.nome),G(e.id)}},[F]),(0,i.useEffect)(()=>{let e=F.find(e=>e.nome===v);e&&G(e.id)},[v,F]);let en=()=>{if(null==B?void 0:B.categorias)for(let e of B.categorias)for(let a of e.perguntas){let e=N[a.id];if(!e||!e.politica||!e.pratica)return a.id}return null};(0,i.useEffect)(()=>{z.length>0&&E(z.filter(e=>{let a=N[e.id];return a&&a.politica&&a.pratica}).length/z.length*100)},[N,z]),(0,i.useEffect)(()=>{if(k>0){let e=Object.values(N).filter(e=>e.politica&&e.pratica).length;C(e),I(e/(k-1)*100)}},[N,k]);let el=e=>{var a;F.find(e=>e.nome===v),j(e),A(0),G((null===(a=F.find(a=>a.nome===e))||void 0===a?void 0:a.id)||0)},ec=async(e,a)=>{var t,o,i;y(t=>({...t,[e]:{...t[e],politica:a,pergunta:e}})),X(e=>!e);let r={pergunta:e,politica:a,pratica:(null===(t=N[e])||void 0===t?void 0:t.pratica)||"",info_complementar:(null===(o=N[e])||void 0===o?void 0:o.informacoesAdicionais)||"",anexos:(null===(i=N[e])||void 0===i?void 0:i.anexo)||null},s=[];s.push(r);try{await M(s,"rascunho")}catch(e){console.error("Erro ao salvar pol\xedtica:",e)}},ed=async(e,a)=>{var t,o,i;y(t=>({...t,[e]:{...t[e],pratica:a,pergunta:e}})),X(e=>!e);let r={pergunta:e,politica:(null===(t=N[e])||void 0===t?void 0:t.politica)||"",pratica:a,info_complementar:(null===(o=N[e])||void 0===o?void 0:o.informacoesAdicionais)||"",anexos:(null===(i=N[e])||void 0===i?void 0:i.anexo)||null},s=[];s.push(r);try{await M(s,"rascunho")}catch(e){console.error("Erro ao salvar pr\xe1tica:",e)}},eu=async(e,a)=>{var t,o,i;y(t=>({...t,[e]:{...t[e],informacoesAdicionais:a,pergunta:e}}));let r={pergunta:e,politica:(null===(t=N[e])||void 0===t?void 0:t.politica)||"",pratica:(null===(o=N[e])||void 0===o?void 0:o.pratica)||"",info_complementar:a,anexos:(null===(i=N[e])||void 0===i?void 0:i.anexo)||null},s=[];s.push(r);try{await M(s,"rascunho")}catch(e){console.error("Erro ao salvar informa\xe7\xf5es adicionais:",e)}};(0,i.useEffect)(()=>{et(F.reduce((e,a)=>(e[a.id]=ef(a.id),e),{}))},[N,B,z]);let em=async(e,a)=>{var t,o,i;let r=a?a.name:"";y(a=>({...a,[e]:{...a[e],anexo:r,pergunta:e}}));let s={pergunta:e,politica:(null===(t=N[e])||void 0===t?void 0:t.politica)||"",pratica:(null===(o=N[e])||void 0===o?void 0:o.pratica)||"",info_complementar:(null===(i=N[e])||void 0===i?void 0:i.informacoesAdicionais)||"",anexos:r};try{await M([s],"rascunho")}catch(e){console.error("Erro ao salvar anexo:",e)}};(0,i.useEffect)(()=>{},[T]);let ep=async()=>{let e=en();if(e){let o="",i=-1;if(null==B||B.categorias.forEach(a=>{let t=a.perguntas.findIndex(a=>a.id===e);-1!==t&&(o=a.nome,i=t)}),o){var a,t;await G((null===(a=F.find(e=>e.nome===o))||void 0===a?void 0:a.id)||0),A(i),j(o),J("Aten\xe7\xe3o: A pergunta ".concat((null===(t=z.find(a=>a.id===e))||void 0===t?void 0:t.codigo)||e," n\xe3o foi respondida.")),V(!0),setTimeout(()=>V(!1),5e3);return}J("Ainda h\xe1 quest\xf5es para responder."),V(!0),setTimeout(()=>V(!1),5e3);return}try{let e=Object.entries(N).map(e=>{let[a,t]=e;return{pergunta:parseInt(a),politica:t.politica,pratica:t.pratica,info_complementar:t.informacoesAdicionais||"",anexos:t.anexo||null}});await M(e,"em_analise");let a=localStorage.getItem("selectedFormularioId"),t=JSON.parse(localStorage.getItem("formulariosRespondidos")||"{}"),o=localStorage.getItem("nomeFormulario")||"";t[a]={nome:o,status:"em_analise",data:new Date().toISOString()},localStorage.setItem("formulariosRespondidos",JSON.stringify(t)),J("Formul\xe1rio enviado com sucesso para an\xe1lise!"),V(!0),setTimeout(()=>{Z.push("/cliente/")},3e3)}catch(e){console.error("Erro ao enviar formul\xe1rio:",e),J("Erro ao enviar formul\xe1rio. Por favor, tente novamente."),V(!0)}};(0,i.useEffect)(()=>{if(q){let e=setTimeout(()=>{V(!1)},5e3);return()=>clearTimeout(e)}},[q,D]);let ef=e=>{if(!B)return z.filter(a=>a.categoria===e).every(e=>{let a=N[e.id];return a&&a.politica&&a.pratica});let a=B.categorias.find(a=>a.id===e);return!!a&&a.perguntas.every(e=>e.resposta&&e.resposta.politica&&e.resposta.pratica)};return(0,o.jsxs)("div",{className:"form-container flex min-h-screen bg-gray-100","data-testid":"nist-page",children:[(0,o.jsx)(r.A,{menuItems:[{name:"Home",icon:(0,o.jsx)(s.V5Y,{size:20}),path:"/cliente"},{name:"Formulario",icon:(0,o.jsx)(s.jH2,{size:20}),path:"/cliente/formulario"}]}),(0,o.jsxs)("div",{className:"main-content flex",children:[(0,o.jsxs)("div",{className:"section-sidebar ".concat(h?"normal":"collapse"," fixed"),children:[(0,o.jsx)("button",{className:"fixed-btn menu-button mb-4",onClick:()=>{g(!h)},"aria-label":h?"Recolher menu":"Expandir menu","aria-expanded":h,"data-testid":"menu-toggle-button",children:(0,o.jsx)(s.ND1,{size:24,color:"orange","aria-hidden":"true"})}),(0,o.jsx)("div",{className:"section-list-container",children:(0,o.jsxs)("ul",{className:"section-list",children:[(0,o.jsx)("div",{className:"categorias",children:F.map(e=>{let a,t;let i=e.nome.match(/\(([^)]+)\)/);if(i)a=i[1],t=e.nome.replace(/\([^)]+\)/,"").trim();else{let o=e.nome.split(" ");a=o[0],t=o.slice(1).join(" ")}let r=ea[e.id];return(0,o.jsx)("li",{className:"section-item",children:(0,o.jsxs)("button",{className:"section-button ".concat(v===e.nome?"active":""," ").concat(r?"completed":""),onClick:()=>el(e.nome),"data-testid":"section-button-".concat(e.id),children:[(0,o.jsx)("span",{className:"section-sigla",children:a}),h&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"section-text",children:t}),r?(0,o.jsx)(s.A3x,{className:"ml-2"}):(0,o.jsx)(s.sxA,{className:"ml-2 text-gray-400"})]})]})},e.id)})}),(0,o.jsx)("div",{className:"fixed-question",children:h&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("br",{}),(0,o.jsx)("hr",{}),(0,o.jsx)(c,{perguntas:z,respostas:N,currentQuestionIndex:b,setCurrentQuestionIndex:A})]})})]})})]}),(0,o.jsxs)("div",{className:"".concat(h?"normal-form":"collapse-form"," fixed"),children:[(0,o.jsxs)("div",{className:"progresso-container mb-6 flex items-center justify-between",children:[(0,o.jsx)("div",{className:"barra-progresso flex-1 mr-4 bg-gray-200 rounded-full h-4",children:(0,o.jsx)("div",{className:"progresso-preenchido bg-blue-500 h-4 rounded-full",style:{width:"".concat(w,"%")}})}),(0,o.jsxs)("div",{className:"indicador-progresso flex items-center",children:[(0,o.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[Math.round(w),"% conclu\xeddo"]}),(0,o.jsx)("span",{className:"mx-2 text-sm font-medium text-gray-700",children:"|"}),(0,o.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[_,"/",k]})]})]}),(0,o.jsx)("h1",{className:"main-title text-2xl font-bold mb-6 text-gray-800","data-testid":"active-section-title",children:v}),z.length>0&&(0,o.jsxs)("div",{className:"question-container mb-6","data-testid":"question-container",children:[(0,o.jsx)("label",{className:"question-label flex items-center space-x-2",children:(0,o.jsxs)("span",{className:"question-text text-sm font-medium ".concat((null===(e=N[z[b].id])||void 0===e?void 0:e.politica)&&(null===(a=N[z[b].id])||void 0===a?void 0:a.pratica)?"text-green-600":"text-gray-700"),"data-testid":"question-text",children:[z[b].codigo,": ",z[b].questao,(null===(t=N[z[b].id])||void 0===t?void 0:t.politica)&&(null===(d=N[z[b].id])||void 0===d?void 0:d.pratica)&&(0,o.jsx)(s.YrT,{className:"ml-2 text-green-500 inline"})]})}),(0,o.jsx)("span",{}),(0,o.jsxs)("div",{className:"selectors-container flex space-x-4 mb-6",children:[(0,o.jsxs)("div",{className:"politica-selector flex-1",children:[(0,o.jsx)("label",{className:"selector-label block text-sm font-medium text-gray-700 mb-1","data-testid":"politica-label",children:"Pol\xedtica"}),(0,o.jsxs)("select",{value:(null===(u=N[z[b].id])||void 0===u?void 0:u.politica)||"",onChange:e=>ec(z[b].id,e.target.value),className:"selector-input w-full p-2 border-2 border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500","data-testid":"politica-select",children:[(0,o.jsx)("option",{value:"",disabled:!0,children:"Selecione uma op\xe7\xe3o"}),(0,o.jsx)("option",{value:"Inicial",children:"1-Inicial"}),(0,o.jsx)("option",{value:"Repetido",children:"2-Repetido"}),(0,o.jsx)("option",{value:"Definido",children:"3-Definido"}),(0,o.jsx)("option",{value:"Gerenciado",children:"4-Gerenciado"}),(0,o.jsx)("option",{value:"Otimizado",children:"5-Otimizado"})]})]}),(0,o.jsxs)("div",{className:"pratica-selector flex-1",children:[(0,o.jsx)("label",{className:"selector-label block text-sm font-medium text-gray-700 mb-1","data-testid":"pratica-label",children:"Pr\xe1tica"}),(0,o.jsxs)("select",{value:(null===(m=N[z[b].id])||void 0===m?void 0:m.pratica)||"",onChange:e=>ed(z[b].id,e.target.value),className:"selector-input w-full p-2 border-2 border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500","data-testid":"pratica-select",children:[(0,o.jsx)("option",{value:"",disabled:!0,children:"Selecione uma op\xe7\xe3o"}),(0,o.jsx)("option",{value:"Inicial",children:"1-Inicial"}),(0,o.jsx)("option",{value:"Repetido",children:"2-Repetido"}),(0,o.jsx)("option",{value:"Definido",children:"3-Definido"}),(0,o.jsx)("option",{value:"Gerenciado",children:"4-Gerenciado"}),(0,o.jsx)("option",{value:"Otimizado",children:"5-Otimizado"})]})]})]}),(0,o.jsxs)("div",{className:"additional-info-container mb-6",children:[(0,o.jsx)("label",{className:"additional-info-label block text-sm font-medium text-gray-700 mb-1","data-testid":"info-adicionais-label",children:"Informa\xe7\xf5es adicionais"}),(0,o.jsx)("div",{className:"flex items-center space-x-2",children:(0,o.jsx)("textarea",{placeholder:"Comece a digitar sua mensagem...",rows:3,value:(null===(p=N[z[b].id])||void 0===p?void 0:p.informacoesAdicionais)||"",onChange:e=>eu(z[b].id,e.target.value),className:"additional-info-textarea w-full p-3 border-2 border-gray-300 rounded-lg shadow-sm focus:border-blue-500 focus:ring-blue-500","data-testid":"info-adicionais-textarea"})}),(0,o.jsxs)("label",{className:"cursor-pointer file",children:[(0,o.jsx)("input",{type:"file",className:"hidden",onChange:e=>{var a;return em(z[b].id,(null===(a=e.target.files)||void 0===a?void 0:a[0])||null)},"data-testid":"anexo-input"}),(0,o.jsx)(s._mV,{size:24,className:"text-gray-500 hover:text-blue-500"})]}),(null===(f=N[z[b].id])||void 0===f?void 0:f.anexo)&&(0,o.jsx)("div",{className:"anexo-container",children:(0,o.jsxs)("div",{className:"anexo-card",children:[(0,o.jsx)("div",{className:"anexo-icon",children:(0,o.jsx)(s.jH2,{size:24})}),(0,o.jsx)("div",{className:"anexo-info",children:(0,o.jsx)("span",{className:"anexo-nome",children:null===(x=N[z[b].id])||void 0===x?void 0:x.anexo})}),(0,o.jsx)("button",{className:"anexo-remover",onClick:()=>em(z[b].id,null),title:"Remover arquivo",children:(0,o.jsx)(s.yGN,{size:18})})]})})]})]}),(0,o.jsxs)("div",{className:"footer_question flex justify-between items-center mt-6",children:[(0,o.jsx)("button",{onClick:()=>{b>0&&A(b-1)},disabled:0===b,className:"flex items-center justify-center cursor-pointer transition-all duration-300 ease-linear rounded-lg border border-pink-300 px-4 py-2 disabled:bg-gray-300 disabled:cursor-not-allowed","data-testid":"anterior-button",children:(0,o.jsx)("span",{children:"Anterior"})}),(0,o.jsxs)("span",{className:"text-sm text-gray-700","data-testid":"progresso-indicator",children:[b+1," de ",z.length]}),(0,o.jsx)("button",{onClick:()=>{if(b<z.length-1)A(b+1);else{let e=F.find(e=>e.nome===v);if(!e)return;let a=ef(e.id);et(t=>({...t,[e.id]:a}));let t=F.findIndex(a=>a.id===e.id);if(t<F.length-1){let e=F[t+1];j(e.nome),A(0),G(e.id)}else J("Voc\xea completou todas as categorias!"),V(!0)}},className:"flex items-center justify-center cursor-pointer transition-all duration-300 ease-linear rounded-lg border border-pink-300 px-4 py-2 ".concat(b===z.length-1&&F.findIndex(e=>e.nome===v)===F.length-1?"bg-gray-300 text-gray-500 cursor-not-allowed":"hover:bg-pink-100"),"data-testid":"proxima-button",children:b===z.length-1?F.findIndex(e=>e.nome===v)<F.length-1?"Pr\xf3xima Categoria":"\xdaltima Pergunta":"Pr\xf3xima"})]}),(0,o.jsx)("br",{}),(0,o.jsx)("button",{onClick:ep,className:"btn px-4 py-2 rounded-lg ".concat(_===k?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),"data-testid":"enviar-formulario-button",children:"Enviar Formul\xe1rioss"})]})]}),q&&(0,o.jsxs)("div",{className:"snackbar",children:[(0,o.jsx)("div",{className:"snackbar-content",children:(0,o.jsx)("span",{children:D})}),(0,o.jsx)("button",{className:"snackbar-close-btn",onClick:()=>V(!1),"aria-label":"Fechar notifica\xe7\xe3o",children:(0,o.jsx)(s.yGN,{size:18})})]})]})}},90226:()=>{},90240:(e,a,t)=>{"use strict";t.d(a,{$:()=>i});var o=t(49509);let i=()=>o.env.NEXT_PUBLIC_API_URL||"https://projeto-future-backend.onrender.com/"}},e=>{var a=a=>e(e.s=a);e.O(0,[156,844,733,874,464,441,684,358],()=>a(66407)),_N_E=e.O()}]);